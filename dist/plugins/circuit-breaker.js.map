{"version":3,"file":"circuit-breaker.js","sources":["../../src/common/errors.js","../../src/plugins/circuit-breaker.js"],"sourcesContent":["/**\n * @fileoverview Centralized error handling for CrossBus.\n * @module common/errors\n */\n\n/**\n * Error codes for CrossBus.\n * @readonly\n * @enum {string}\n */\nexport const ErrorCode = Object.freeze({\n    // Connection errors\n    HANDSHAKE_TIMEOUT: 'ERR_HANDSHAKE_TIMEOUT',\n    HANDSHAKE_REJECTED: 'ERR_HANDSHAKE_REJECTED',\n    ORIGIN_FORBIDDEN: 'ERR_ORIGIN_FORBIDDEN',\n    PEER_EXISTS: 'ERR_PEER_EXISTS',\n    PEER_NOT_FOUND: 'ERR_PEER_NOT_FOUND',\n    PEER_DISCONNECTED: 'ERR_PEER_DISCONNECTED',\n    RECONNECT_FAILED: 'ERR_RECONNECT_FAILED',\n    UNSUPPORTED: 'ERR_UNSUPPORTED',\n    NOT_CONNECTED: 'ERR_NOT_CONNECTED',\n\n    // Message errors\n    ACK_TIMEOUT: 'ERR_ACK_TIMEOUT',\n    RESPONSE_TIMEOUT: 'ERR_RESPONSE_TIMEOUT',\n    QUEUE_FULL: 'ERR_QUEUE_FULL',\n    INVALID_MESSAGE: 'ERR_INVALID_MESSAGE',\n    VERSION_MISMATCH: 'ERR_VERSION_MISMATCH',\n    CLONE_ERROR: 'ERR_CLONE_ERROR',\n    TRANSFER_ERROR: 'ERR_TRANSFER_ERROR',\n    MESSAGE_TOO_LARGE: 'ERR_MESSAGE_TOO_LARGE',\n\n    // Routing errors\n    UNREACHABLE: 'ERR_UNREACHABLE',\n    TTL_EXCEEDED: 'ERR_TTL_EXCEEDED',\n    NO_ROUTE: 'ERR_NO_ROUTE',\n\n    // Handler errors\n    NO_HANDLER: 'ERR_NO_HANDLER',\n    HANDLER_ERROR: 'ERR_HANDLER_ERROR',\n    HANDLER_TIMEOUT: 'ERR_HANDLER_TIMEOUT',\n    HANDLER_EXISTS: 'ERR_HANDLER_EXISTS',\n    SEND_FAILED: 'ERR_SEND_FAILED',\n\n    // Channel errors\n    CHANNEL_FAILED: 'ERR_CHANNEL_FAILED',\n    CHANNEL_CLOSED: 'ERR_CHANNEL_CLOSED',\n\n    // Resource errors\n    MAX_PEERS: 'ERR_MAX_PEERS',\n    MAX_PENDING: 'ERR_MAX_PENDING',\n    DESTROYED: 'ERR_DESTROYED',\n\n    // Circuit Breaker\n    CIRCUIT_OPEN: 'ERR_CIRCUIT_OPEN',\n\n    // Security errors\n    PAYLOAD_TOO_LARGE: 'ERR_PAYLOAD_TOO_LARGE',\n    RATE_LIMITED: 'ERR_RATE_LIMITED',\n    UNAUTHORIZED: 'ERR_UNAUTHORIZED',\n    INVALID_PAYLOAD: 'ERR_INVALID_PAYLOAD'\n});\n\n/**\n * Error metadata including default messages, retryability, and AI-friendly suggestions.\n * @type {Object<ErrorCode, {message: string, retryable: boolean, suggestion: string}>}\n */\nconst ERROR_META = Object.freeze({\n    [ErrorCode.HANDSHAKE_TIMEOUT]: {\n        message: 'Handshake timed out',\n        retryable: true,\n        suggestion: 'Increase timeout or check if target is loaded. Use iframe.onload before connecting.'\n    },\n    [ErrorCode.HANDSHAKE_REJECTED]: {\n        message: 'Handshake rejected by peer',\n        retryable: false,\n        suggestion: 'Check targetOrigin matches the peer\\'s origin. Verify peer allows your origin.'\n    },\n    [ErrorCode.ORIGIN_FORBIDDEN]: {\n        message: 'Origin not in allowed origins list',\n        retryable: false,\n        suggestion: 'Add your origin to allowedOrigins option or use targetOrigin: \"*\" for development.'\n    },\n    [ErrorCode.PEER_EXISTS]: {\n        message: 'Peer with this ID already exists',\n        retryable: false,\n        suggestion: 'Use unique peerId for each context. Try: peerId: `agent-${Date.now()}`'\n    },\n    [ErrorCode.PEER_NOT_FOUND]: {\n        message: 'Peer not found',\n        retryable: false,\n        suggestion: 'Check if peer is connected using bus.peers. Wait for peer connection before request.'\n    },\n    [ErrorCode.PEER_DISCONNECTED]: {\n        message: 'Peer is disconnected',\n        retryable: true,\n        suggestion: 'Wait for peer to reconnect. Listen for \"peer:join\" event before retry.'\n    },\n    [ErrorCode.RECONNECT_FAILED]: {\n        message: 'Max reconnection attempts reached',\n        retryable: false,\n        suggestion: 'Check network connectivity. Consider increasing maxRetries option.'\n    },\n    [ErrorCode.UNSUPPORTED]: {\n        message: 'Operation not supported by this environment',\n        retryable: false,\n        suggestion: 'This feature requires a browser environment. Check for feature availability first.'\n    },\n    [ErrorCode.NOT_CONNECTED]: {\n        message: 'Transport is not connected',\n        retryable: true,\n        suggestion: 'Call addTransport() and wait for connection before sending messages.'\n    },\n    [ErrorCode.ACK_TIMEOUT]: {\n        message: 'ACK not received within timeout',\n        retryable: true,\n        suggestion: 'Increase ackTimeout option or check peer availability.'\n    },\n    [ErrorCode.RESPONSE_TIMEOUT]: {\n        message: 'Response not received within timeout',\n        retryable: true,\n        suggestion: 'Increase timeout in request options: { timeout: 10000 }. Check if handler exists on peer.'\n    },\n    [ErrorCode.QUEUE_FULL]: {\n        message: 'Message queue is full',\n        retryable: false,\n        suggestion: 'Increase maxQueueSize or wait for queue to drain. Consider using batching plugin.'\n    },\n    [ErrorCode.INVALID_MESSAGE]: {\n        message: 'Invalid message format',\n        retryable: false,\n        suggestion: 'Ensure message data is JSON-serializable. Avoid DOM nodes and functions.'\n    },\n    [ErrorCode.VERSION_MISMATCH]: {\n        message: 'Protocol version mismatch',\n        retryable: false,\n        suggestion: 'Update CrossBus to same version on both sides.'\n    },\n    [ErrorCode.CLONE_ERROR]: {\n        message: 'Data cannot be cloned (contains functions or DOM nodes)',\n        retryable: false,\n        suggestion: 'Remove functions, DOM nodes, and circular references from message data.'\n    },\n    [ErrorCode.TRANSFER_ERROR]: {\n        message: 'Failed to transfer object ownership',\n        retryable: false,\n        suggestion: 'Ensure ArrayBuffers are not detached. Each buffer can only be transferred once.'\n    },\n    [ErrorCode.MESSAGE_TOO_LARGE]: {\n        message: 'Message exceeds maximum size',\n        retryable: false,\n        suggestion: 'Use streaming for large payloads or increase maxMessageSize option.'\n    },\n    [ErrorCode.UNREACHABLE]: {\n        message: 'Destination peer is unreachable',\n        retryable: true,\n        suggestion: 'Check if peer is still connected. Use bus.peers to list available peers.'\n    },\n    [ErrorCode.TTL_EXCEEDED]: {\n        message: 'Message TTL exceeded (possible routing loop)',\n        retryable: false,\n        suggestion: 'Check for circular transport configurations. Increase maxTTL if needed.'\n    },\n    [ErrorCode.NO_ROUTE]: {\n        message: 'No route to destination',\n        retryable: false,\n        suggestion: 'Add transport connecting to target peer. Set isHub: true on orchestrator.'\n    },\n    [ErrorCode.NO_HANDLER]: {\n        message: 'No handler registered for this request',\n        retryable: false,\n        suggestion: 'Register handler on target: bus.handle(\"handlerName\", fn). Check handler name spelling.'\n    },\n    [ErrorCode.HANDLER_ERROR]: {\n        message: 'Handler threw an exception',\n        retryable: false,\n        suggestion: 'Check target peer logs for error. Wrap handler in try/catch.'\n    },\n    [ErrorCode.HANDLER_TIMEOUT]: {\n        message: 'Handler did not respond within timeout',\n        retryable: true,\n        suggestion: 'Handler is slow. Increase timeout or optimize handler performance.'\n    },\n    [ErrorCode.HANDLER_EXISTS]: {\n        message: 'Handler already registered with this name',\n        retryable: false,\n        suggestion: 'Use different handler name or call bus.removeHandler() first.'\n    },\n    [ErrorCode.SEND_FAILED]: {\n        message: 'Failed to send message to peer',\n        retryable: true,\n        suggestion: 'Check transport status. Target window may be closed or blocked.'\n    },\n    [ErrorCode.CHANNEL_FAILED]: {\n        message: 'Failed to create direct channel',\n        retryable: true,\n        suggestion: 'Check browser support for MessageChannel. Retry after short delay.'\n    },\n    [ErrorCode.CHANNEL_CLOSED]: {\n        message: 'Channel was closed unexpectedly',\n        retryable: false,\n        suggestion: 'Target context was destroyed. Check if iframe/worker still exists.'\n    },\n    [ErrorCode.MAX_PEERS]: {\n        message: 'Maximum number of peers reached',\n        retryable: false,\n        suggestion: 'Increase maxPeers option or disconnect unused peers first.'\n    },\n    [ErrorCode.MAX_PENDING]: {\n        message: 'Maximum pending requests reached',\n        retryable: false,\n        suggestion: 'Wait for pending requests to complete. Increase maxPendingRequests option.'\n    },\n    [ErrorCode.DESTROYED]: {\n        message: 'CrossBus instance has been destroyed',\n        retryable: false,\n        suggestion: 'Create new CrossBus instance. Do not use bus after calling destroy().'\n    },\n    [ErrorCode.CIRCUIT_OPEN]: {\n        message: 'Circuit breaker is open',\n        retryable: false,\n        suggestion: 'Too many failures. Wait for circuit to reset or call circuit.reset().'\n    },\n    [ErrorCode.PAYLOAD_TOO_LARGE]: {\n        message: 'Payload exceeds maximum allowed size',\n        retryable: false,\n        suggestion: 'Reduce payload size or increase maxPayloadSize option. Consider using streaming for large data.'\n    },\n    [ErrorCode.RATE_LIMITED]: {\n        message: 'Request rate limit exceeded',\n        retryable: true,\n        suggestion: 'Wait before retrying. Consider adding delay or using exponential backoff.'\n    },\n    [ErrorCode.UNAUTHORIZED]: {\n        message: 'Peer is not authorized to call this handler',\n        retryable: false,\n        suggestion: 'Add peer to handler allowedPeers list or remove peer restrictions.'\n    },\n    [ErrorCode.INVALID_PAYLOAD]: {\n        message: 'Payload validation failed',\n        retryable: false,\n        suggestion: 'Check payload structure against handler requirements.'\n    }\n});\n\n/**\n * Custom error class for CrossBus.\n * \n * @extends Error\n * \n * @example\n * try {\n *   await bus.emit('msg', data, 'unknown-peer');\n * } catch (err) {\n *   if (err instanceof CrossBusError) {\n *     console.log(err.code);      // 'ERR_PEER_NOT_FOUND'\n *     console.log(err.message);   // 'Peer not found'\n *     console.log(err.details);   // { peerId: 'unknown-peer' }\n *     console.log(err.retryable); // false\n *   }\n * }\n */\nexport class CrossBusError extends Error {\n    /**\n     * Error code.\n     * @type {ErrorCode}\n     */\n    code;\n\n    /**\n     * Additional error context.\n     * @type {Object}\n     */\n    details;\n\n    /**\n     * Whether the operation can be retried.\n     * @type {boolean}\n     */\n    retryable;\n\n    /**\n     * Original error that caused this error.\n     * @type {Error|undefined}\n     */\n    cause;\n\n    /**\n     * Timestamp when error occurred.\n     * @type {number}\n     */\n    timestamp;\n\n    /**\n     * Creates a new CrossBusError.\n     * \n     * @param {ErrorCode} code - Error code.\n     * @param {string} [message] - Custom message (uses default if omitted).\n     * @param {Object} [options] - Additional options.\n     * @param {Object} [options.details={}] - Error context.\n     * @param {boolean} [options.retryable] - Override default retryable.\n     * @param {Error} [options.cause] - Original error.\n     */\n    constructor(code, message, options = {}) {\n        const meta = ERROR_META[code] ?? { message: 'Unknown error', retryable: false };\n        super(message ?? meta.message);\n\n        this.name = 'CrossBusError';\n        this.code = code;\n        this.details = options.details ?? {};\n        this.retryable = options.retryable ?? meta.retryable;\n        this.cause = options.cause;\n        this.timestamp = Date.now();\n\n        // Maintain proper stack trace in V8\n        if (Error.captureStackTrace) {\n            Error.captureStackTrace(this, CrossBusError);\n        }\n    }\n\n    /**\n     * Creates error from code with default message.\n     * \n     * @param {ErrorCode} code - Error code.\n     * @param {Object} [details] - Error context.\n     * @returns {CrossBusError}\n     */\n    static from(code, details = {}) {\n        return new CrossBusError(code, undefined, { details });\n    }\n\n    /**\n     * Creates error from another error.\n     * \n     * @param {ErrorCode} code - Error code.\n     * @param {Error} cause - Original error.\n     * @param {Object} [details] - Additional context.\n     * @returns {CrossBusError}\n     */\n    static wrap(code, cause, details = {}) {\n        return new CrossBusError(code, cause.message, { cause, details });\n    }\n\n    /**\n     * Converts error to JSON-serializable object.\n     * @returns {Object}\n     */\n    toJSON() {\n        return {\n            name: this.name,\n            code: this.code,\n            message: this.message,\n            details: this.details,\n            retryable: this.retryable,\n            timestamp: this.timestamp\n        };\n    }\n\n    /**\n     * String representation.\n     * @returns {string}\n     */\n    toString() {\n        return `${this.name} [${this.code}]: ${this.message}`;\n    }\n}\n\n/**\n * Checks if an error is a CrossBusError.\n * \n * @param {*} err - Value to check.\n * @returns {boolean}\n */\nexport function isCrossBusError(err) {\n    return err instanceof CrossBusError;\n}\n\n/**\n * Checks if an error is retryable.\n * \n * @param {Error} err - Error to check.\n * @returns {boolean}\n */\nexport function isRetryable(err) {\n    if (err instanceof CrossBusError) {\n        return err.retryable;\n    }\n    return false;\n}\n","/**\n * @fileoverview Circuit Breaker plugin for CrossBus.\n * Prevents cascading failures by tracking errors and opening circuit.\n * @module plugins/circuit-breaker\n */\n\nimport { CrossBusError, ErrorCode } from '../common/errors.js';\n\n/**\n * Circuit breaker states.\n */\nexport const CircuitState = Object.freeze({\n    CLOSED: 'closed',     // Normal operation, requests flow through\n    OPEN: 'open',         // Circuit tripped, requests fail fast\n    HALF_OPEN: 'half_open' // Testing if service recovered\n});\n\n/**\n * @typedef {Object} CircuitBreakerOptions\n * @property {number} [failureThreshold=5] - Failures before opening circuit.\n * @property {number} [successThreshold=2] - Successes needed to close from half-open.\n * @property {number} [resetTimeout=30000] - Time in ms before trying half-open.\n * @property {Function|null} [onStateChange] - Callback when state changes.\n * @property {Function} [isFailure] - Custom failure detector.\n */\n\n/**\n * Default circuit breaker options.\n */\nexport const DEFAULT_CIRCUIT_OPTIONS = {\n    failureThreshold: 5,\n    successThreshold: 2,\n    resetTimeout: 30000,\n    onStateChange: null,\n    isFailure: (error) => true // All errors count as failures by default\n};\n\n/**\n * Circuit Breaker implementation.\n * \n * States:\n * - CLOSED: Normal operation, tracking failures\n * - OPEN: Circuit tripped, all requests fail fast\n * - HALF_OPEN: Allowing test requests to check recovery\n * \n * @example\n * const breaker = new CircuitBreaker({\n *   failureThreshold: 3,\n *   resetTimeout: 10000\n * });\n * \n * try {\n *   const result = await breaker.execute(() => \n *     bus.request('unstable-service', 'getData')\n *   );\n * } catch (error) {\n *   if (error.code === 'ERR_CIRCUIT_OPEN') {\n *     // Circuit is open, service unavailable\n *   }\n * }\n */\nexport class CircuitBreaker {\n    /** @type {string} */\n    #state = CircuitState.CLOSED;\n\n    /** @type {number} */\n    #failures = 0;\n\n    /** @type {number} */\n    #successes = 0;\n\n    /** @type {number|null} */\n    #lastFailureTime = null;\n\n    /** @type {number|null} */\n    #openedAt = null;\n\n    /** @type {CircuitBreakerOptions} */\n    #options;\n\n    /** @type {number} */\n    #totalRequests = 0;\n\n    /** @type {number} */\n    #totalFailures = 0;\n\n    /** @type {number} */\n    #totalSuccesses = 0;\n\n    /**\n     * Creates a new circuit breaker.\n     * \n     * @param {CircuitBreakerOptions} [options={}]\n     */\n    constructor(options = {}) {\n        this.#options = { ...DEFAULT_CIRCUIT_OPTIONS, ...options };\n    }\n\n    /**\n     * Gets current circuit state.\n     * @returns {string}\n     */\n    get state() {\n        this.#checkHalfOpen();\n        return this.#state;\n    }\n\n    /**\n     * Gets failure count in current period.\n     * @returns {number}\n     */\n    get failures() {\n        return this.#failures;\n    }\n\n    /**\n     * Gets circuit statistics.\n     * @returns {Object}\n     */\n    get stats() {\n        return {\n            state: this.state,\n            failures: this.#failures,\n            successes: this.#successes,\n            totalRequests: this.#totalRequests,\n            totalFailures: this.#totalFailures,\n            totalSuccesses: this.#totalSuccesses,\n            lastFailureTime: this.#lastFailureTime,\n            openedAt: this.#openedAt\n        };\n    }\n\n    /**\n     * Checks if the circuit allows requests.\n     * @returns {boolean}\n     */\n    get isOpen() {\n        return this.state === CircuitState.OPEN;\n    }\n\n    /**\n     * Checks if the circuit is closed (normal operation).\n     * @returns {boolean}\n     */\n    get isClosed() {\n        return this.state === CircuitState.CLOSED;\n    }\n\n    /**\n     * Executes a function through the circuit breaker.\n     * \n     * @template T\n     * @param {() => Promise<T>} fn - Function to execute.\n     * @returns {Promise<T>}\n     * @throws {CrossBusError} When circuit is open.\n     * \n     * @example\n     * const result = await breaker.execute(async () => {\n     *   return await bus.request('service', 'method');\n     * });\n     */\n    async execute(fn) {\n        this.#totalRequests++;\n\n        // Check if circuit allows request\n        const currentState = this.state;\n\n        if (currentState === CircuitState.OPEN) {\n            throw CrossBusError.from(ErrorCode.CIRCUIT_OPEN, {\n                state: this.#state,\n                openedAt: this.#openedAt,\n                failures: this.#failures\n            });\n        }\n\n        try {\n            const result = await fn();\n            this.#onSuccess();\n            return result;\n        } catch (error) {\n            // Check if this error should count as failure\n            if (this.#options.isFailure && this.#options.isFailure(error)) {\n                this.#onFailure();\n            }\n            throw error;\n        }\n    }\n\n    /**\n     * Manually resets the circuit to closed state.\n     */\n    reset() {\n        const previousState = this.#state;\n        this.#state = CircuitState.CLOSED;\n        this.#failures = 0;\n        this.#successes = 0;\n        this.#openedAt = null;\n\n        if (previousState !== CircuitState.CLOSED) {\n            this.#notifyStateChange(previousState, CircuitState.CLOSED);\n        }\n    }\n\n    /**\n     * Manually trips the circuit to open state.\n     */\n    trip() {\n        const previousState = this.#state;\n        if (previousState === CircuitState.OPEN) return;\n\n        this.#state = CircuitState.OPEN;\n        this.#openedAt = Date.now();\n        this.#notifyStateChange(previousState, CircuitState.OPEN);\n    }\n\n    // ─────────────────────────────────────────────────────────────────\n    // Private methods\n    // ─────────────────────────────────────────────────────────────────\n\n    /**\n     * Handles successful execution.\n     * \n     */\n    #onSuccess() {\n        this.#totalSuccesses++;\n\n        if (this.#state === CircuitState.HALF_OPEN) {\n            this.#successes++;\n\n            if (this.#successes >= (this.#options.successThreshold || 2)) {\n                // Recovered! Close the circuit\n                const previousState = this.#state;\n                this.#state = CircuitState.CLOSED;\n                this.#failures = 0;\n                this.#successes = 0;\n                this.#openedAt = null;\n                this.#notifyStateChange(previousState, CircuitState.CLOSED);\n            }\n        } else if (this.#state === CircuitState.CLOSED) {\n            // Reset failure count on success in closed state\n            this.#failures = 0;\n        }\n    }\n\n    /**\n     * Handles failed execution.\n     * \n     */\n    #onFailure() {\n        this.#totalFailures++;\n        this.#lastFailureTime = Date.now();\n        this.#failures++;\n\n        if (this.#state === CircuitState.HALF_OPEN) {\n            // Failed during test, go back to open\n            const previousState = this.#state;\n            this.#state = CircuitState.OPEN;\n            this.#openedAt = Date.now();\n            this.#successes = 0;\n            this.#notifyStateChange(previousState, CircuitState.OPEN);\n        } else if (this.#state === CircuitState.CLOSED) {\n            if (this.#failures >= (this.#options.failureThreshold || 5)) {\n                // Too many failures, trip the circuit\n                const previousState = this.#state;\n                this.#state = CircuitState.OPEN;\n                this.#openedAt = Date.now();\n                this.#notifyStateChange(previousState, CircuitState.OPEN);\n            }\n        }\n    }\n\n    /**\n     * Checks if circuit should transition to half-open.\n     * \n     */\n    #checkHalfOpen() {\n        if (this.#state === CircuitState.OPEN && this.#openedAt) {\n            const elapsed = Date.now() - this.#openedAt;\n\n            if (elapsed >= (this.#options.resetTimeout || 30000)) {\n                const previousState = this.#state;\n                this.#state = CircuitState.HALF_OPEN;\n                this.#successes = 0;\n                this.#notifyStateChange(previousState, CircuitState.HALF_OPEN);\n            }\n        }\n    }\n\n    /**\n     * Notifies state change callback.\n     * \n     */\n    #notifyStateChange(from, to) {\n        if (this.#options.onStateChange) {\n            this.#options.onStateChange({ from, to, timestamp: Date.now() });\n        }\n    }\n}\n\n/**\n * Creates a circuit breaker wrapper for CrossBus peer requests.\n * \n * @param {import(\"../core/cross-bus.js\").CrossBus} bus - CrossBus instance.\n * @param {string} peerId - Peer ID to protect.\n * @param {CircuitBreakerOptions} [options={}]\n * @returns {{ request: Function, breaker: CircuitBreaker }}\n * \n * @example\n * const { request, breaker } = createPeerCircuitBreaker(\n *   bus, \n *   'unstable-widget',\n *   { failureThreshold: 3 }\n * );\n * \n * try {\n *   const data = await request('getData', { id: 5 });\n * } catch (error) {\n *   if (breaker.isOpen) {\n *     console.log('Widget is unavailable');\n *   }\n * }\n */\nexport function createPeerCircuitBreaker(bus, peerId, options = {}) {\n    const breaker = new CircuitBreaker(options);\n\n    return {\n        breaker,\n\n        /**\n         * Request through circuit breaker.\n         * \n         * @param {string} handlerName - Handler to invoke.\n         * @param {*} [payload] - Request payload.\n         * @param {Object} [requestOptions] - Request options.\n         * @returns {Promise<*>}\n         */\n        request: (handlerName, payload, requestOptions = {}) => {\n            return breaker.execute(() =>\n                bus.request(peerId, handlerName, payload, requestOptions)\n            );\n        }\n    };\n}\n"],"names":[],"mappings":"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"}